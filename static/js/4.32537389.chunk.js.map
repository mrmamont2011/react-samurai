{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Users/users.module.css","assets/images/user.png","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx"],"names":["_slicedToArray","arr","i","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","length","err","_iterableToArrayLimit","TypeError","_nonIterableRest","__webpack_require__","d","__webpack_exports__","module","exports","userPhoto","selectedPage","paginator","paginatorBoarder","p","Users","props","pagesCount","Math","ceil","totalUsersCount","pageSize","pages","portionSize","portionCount","_useState","useState","_useState2","Object","slicedToArray","portionNumber","setPortishenNumber","leftPortionPageNumber","rightPortionPageNumber","react_default","a","createElement","className","styles","onClick","filter","map","currentPage","e","onPageChanged","users","u","key","id","NavLink","to","src","photos","small","followed","disabled","followingInProgress","some","unfollow","follow","name","status","getUsersState","state","usersPage","getPageSize","getTotalUserCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","pageNumber","_this","getUsers","this","Fragment","Preloader","components_Users_Users","React","Component","compose","connect","setCurrentPage","toggleFollowingProgress"],"mappings":"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","file":"static/js/4.32537389.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2_l2m\",\"selectedPage\":\"users_selectedPage__3yOqK\",\"paginator\":\"users_paginator__2ivKf\",\"paginatorBoarder\":\"users_paginatorBoarder__IFzBp\"};","module.exports = __webpack_public_path__ + \"static/media/user.8b1dbb1f.png\";","import React, {useState} from 'react';\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport * as axios from \"axios\";\r\nimport {toggleFollowingProgress} from \"../../redux/users-reducer\";\r\nimport {usersAPI} from \"../../api/api\";\r\n\r\nlet Users = (props) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    let portionSize = props.portionSize;\r\n    \r\n    let portionCount = Math.ceil(props.totalUsersCount / portionSize);\r\n    let [portionNumber, setPortishenNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1)*portionSize +1;\r\n    let rightPortionPageNumber = portionNumber*portionSize;\r\n    // let leftPortionPageNumber = 5\r\n    // let rightPortionPageNumber = 15;\r\n       \r\n    return <div>\r\n    \r\n        <div className = {styles.paginator}>\r\n            {portionNumber > 1 && \r\n            <button onClick = {() => {setPortishenNumber(portionNumber - 1)}}>PREF</button>}\r\n            <div >\r\n                {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber).map(p => {\r\n                    return<span className = {styles.paginatorBoarder}> <span className={props.currentPage === p && styles.selectedPage}\r\n                                onClick={(e) => {\r\n                                    props.onPageChanged(p);\r\n                                }}>{p}</span></span>\r\n                })}\r\n            </div>\r\n            {portionCount > portionNumber && \r\n            <button onClick = {() => {setPortishenNumber(portionNumber + 1)}}>NEXT</button>}\r\n        </div>\r\n\r\n        <div>\r\n        {\r\n            props.users.map(u => <div key={u.id}>\r\n                <span>\r\n                    <div>\r\n                       <NavLink to={'/profile/' + u.id}>\r\n                        <img src={u.photos.small != null ? u.photos.small : userPhoto}\r\n                             className={styles.userPhoto}/>\r\n                       </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {u.followed\r\n                            ? <button disabled={props.followingInProgress\r\n                                .some(id => id === u.id)}\r\n                                      onClick={() => { props.unfollow(u.id) }}>\r\n                                Unfollow</button>\r\n                            : <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                      onClick={() => { props.follow(u.id) }}>\r\n                                      Follow</button>}\r\n\r\n                    </div>\r\n                </span>\r\n                <span>\r\n                    <span>\r\n                        <div>{u.name}</div>\r\n                        <div>{u.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{\"u.location.country\"}</div>\r\n                        <div>{\"u.location.city\"}</div>\r\n                    </span>\r\n                </span>\r\n            </div>)\r\n        }\r\n        </div>\r\n    </div>\r\n    \r\n}\r\n\r\nexport default Users;","export const getUsersState = (state) => {\r\n    return state.usersPage.users;\r\n}\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getTotalUserCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {\r\n    follow,\r\n    setCurrentPage,\r\n    unfollow, toggleFollowingProgress, getUsers\r\n} from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {getUsersState, getPageSize, getTotalUserCount, \r\n    getCurrentPage, getIsFetching,getFollowingInProgress}\r\nfrom '../../redux/users-selectors'\r\n\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            { this.props.isFetching ? <Preloader /> : null }\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                        pageSize={this.props.pageSize}\r\n                        currentPage={this.props.currentPage}\r\n                        onPageChanged={this.onPageChanged}\r\n                        users={this.props.users}\r\n                        follow={this.props.follow}\r\n                        unfollow={this.props.unfollow}\r\n                        followingInProgress={this.props.followingInProgress}\r\n                        portionSize = {this.props.portionSize}\r\n             />\r\n        </>\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n   \r\n    return {\r\n        users: getUsersState(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUserCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        portionSize: state.usersPage.portionSize,\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    // withAuthRedirect,\r\n    connect(mapStateToProps,{follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsers })\r\n)(UsersContainer)"],"sourceRoot":""}